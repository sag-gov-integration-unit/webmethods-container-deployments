shutdown immediate;
startup mount;
ALTER DATABASE archivelog;
ALTER DATABASE open;
ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;
ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
alter session set container=orclpdb1;
ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;
ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
ALTER SESSION set container=cdb$root;
ALTER SYSTEM SWITCH LOGFILE;
CREATE USER C##CDC_USER IDENTIFIED BY WElcome123#;
GRANT create session, alter session, set container, select any dictionary, logmining, execute_catalog_role TO C##CDC_USER CONTAINER=all;
ALTER SESSION SET CONTAINER=cdb$root;
GRANT select on GV_$DATABASE to C##CDC_USER;
GRANT select on V_$DATABASE to C##CDC_USER;
GRANT select on V_$DATABASE_INCARNATION to C##CDC_USER;
GRANT select on V_$LOGMNR_CONTENTS to C##CDC_USER;
GRANT select on V_$ARCHIVED_LOG to C##CDC_USER;
GRANT select on V_$LOG to C##CDC_USER;
GRANT select on V_$LOGFILE to C##CDC_USER;
GRANT select on V_$LOGMNR_LOGS to C##CDC_USER;
GRANT select on GV_$ARCHIVED_LOG to C##CDC_USER;
GRANT select on GV_$INSTANCE to C##CDC_USER;
GRANT select on GV_$LOG to C##CDC_USER;
GRANT select on V_$INSTANCE to C##CDC_USER;
ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;
ALTER user C##CDC_USER identified by WElcome123# account unlock;
ALTER session set container=ORCLPDB1;
CREATE USER STREAMSETS IDENTIFIED BY WElcome123# DEFAULT TABLESPACE USERS TEMPORARY TABLESPACE TEMP QUOTA 2000M on USERS CONTAINER=CURRENT;
GRANT ALL PRIVILEGES TO STREAMSETS;
GRANT ALL PRIVILEGES TO C##CDC_USER;
CREATE TABLE STREAMSETS.EMPLOYEE (ID NUMBER(20,0) PRIMARY KEY, NAME VARCHAR2(255), ADDRESS VARCHAR2(255), REGION VARCHAR2(2), DEPT VARCHAR2(2));
INSERT INTO STREAMSETS.EMPLOYEE VALUES (1327, 'BRYAN FERRY', '123 Vine St', 'UK', 'RM');
INSERT INTO STREAMSETS.EMPLOYEE VALUES (1001, 'PATTI SMITH', '234 Vine St', 'NY', 'PS');
INSERT INTO STREAMSETS.EMPLOYEE VALUES (1002, 'ROBERT FRIPP', '345 Vine St', 'UK', 'RF');
commit;